---
Created: 2025-12-18T23:47:00
Links:
  - "[[C]]"
  - "[[The C programming language]]"
  - "[[Operators]]"
  - "[[Bit]]"
tags:
  - notes
Completed: false
---

## Exercise 2-9
### Problem 1
In a two's complement number system, x &= (x-1) deletes the rightmost 1-bit in x. Explain why.

#### Solution
**Step 1.** “(x - 1)“ 
In two’s complement, subtracting 1 from x turns the **rightmost set bit** (1) into 0 and changes **all less 
 significant bits** (the trailing zeros) into 1, while leaving higher bits unchanged.

**Step 2.** “&=”
Applying the bitwise AND, x & (x - 1), preserves all higher set bits but clears the rightmost 1, because that bit is 1 in x and 0 in (x - 1), and all lower bits become 0 after the AND.

### Problem 2
#### Solution
Changed  for from
```c
    for (b = 0; x != 0; x >>= 1)
```

to
```c
    for (b = 0; x != 0; x &= (x - 1))
```

This version iterates once for each set bit in x.

```c
#include <stdio.h>

int bitcount(unsigned x);

int main()
{
    printf("%d\n", bitcount(9));

    return 0;
}

/* bitcount: count 1 bits in x */
int bitcount(unsigned x)
{
    int b;

    for (b = 0; x != 0; x &= (x - 1))
    {
        b++;
    }
    return b;
}
```